#summary pBlazSIM, a Picoblaze simulator.
#labels Picoblaze,pBlazASM,pBlazSIM

= Introduction =

pBlazSIM simulates a Picoblaze design by loading the .LST file as generated by pBlazASM. If a preconfigurated scratchpad is used, the .SCR file is also needed. pBlazSIM will try to load them together.
Picoblaze-3 designs in KCPSM compatible mode can also be simulated.


= Details =

The current release pBlazSIM has some limitations:
  * Only a small set of IO is available, rest is implemented in javascript.
  * There is no sense of interrupt
A UART emulation is available at a fixed address of 0xEC and 0xED for status and data respectively. For demo purposes a SBOX lookup table is available at 0xF0. Further there is a cyclecounter at 0xC0-0xCF. 
All available IO is used to let the Picobug monitor code be runnable through the simulator.

Breakpoints can be set and removed by double clicking on the source line in the listing. Any unimplemented feature, IO or instruction, will behave in a simulation as an un-removable breakpoint.

A simulation runs at millions of lines per second, so will appear almost as real hardware.

= pBlazSIMcl =

pBlazSIMcl is the command line version of pBlazSIM. It has the emulated UART TX routed to stdout. In addition it has a 16x16 bit to 32 bit multiplier at 0xE8-0xEB. It is useful for running automated tests.